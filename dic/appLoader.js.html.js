ne.util.defineNamespace("fedoc.content", {});
fedoc.content["appLoader.js.html"] = "      <div id=\"main\" class=\"main\">\n\n\n\n    \n    <section>\n        <article>\n            <pre class=\"prettyprint source linenums\"><code>/**\n * @fileoverview Load native app or move to install page\n * @dependency code-snippet.js, detectors.js, agentDetector.js\n * @author NHN Ent. FE dev team.&lt;dl_javascript@nhnent.com>\n */\n\nvar AgentDetector = require('./agentDetector');\nvar Detector = require('./detectors');\nvar iOSDetector = require('./iosDetectors');\nvar EtcDetector = require('./etcDetectors');\n/**\n * @constructor\n * @class\n */\nvar AppLoader = ne.util.defineClass(/** @lends AppLoader.prototype */{\n\n    /****************\n     * member fields\n     ****************/\n\n    /**\n     * browser, device detector\n     */\n    detector: null,\n    /**\n     * OS (android/ios/etc)\n     */\n    os: null,\n    /**\n     * default options to run exec\n     */\n    defaults: {\n        name: '',\n        ios: {\n            scheme: '',\n            url: '',\n            useIOS9: false,\n            syncToIOS9: false\n        },\n        android: {\n            scheme: ''\n        }\n    },\n\n    /****************\n     * member methods\n     ****************/\n\n    /**\n     * Initialize\n     */\n    init: function() {\n        var ad = this.agentDetector = new AgentDetector();\n        this.ua = ad.userAgent();\n        this.os = ad.getOS();\n        this.version = ad.version(ad.ios ? ad.device : 'Android');\n    },\n\n    /**\n     * Set os by Detector\n     * @param {object} context The options\n     */\n    setDetector: function(context) {\n        var self = this,\n            isNotIntend = (this.isIntentLess() || ne.util.isExisty(context.useUrlScheme)),\n            isIntend = ne.util.isExisty(context.intentURI),\n            store = context.storeURL,\n            ad = this.agentDetector,\n            iosVersion = parseInt(this.version.major, 10);\n\n        if (ad.android &amp;&amp; this.version >= context.andVersion) { // Andriod\n            if (isNotIntend &amp;&amp; store) {\n                this.detector = Detector.androidSchemeDetector;\n            } else if (isIntend) {\n                this.detector = Detector.androidIntendDetector;\n            }\n        } else if (ad.ios &amp;&amp; store) {// IOS\nconsole.log(iosVersion, context);\n            if (context.useIOS9) {\n                if (iosVersion > 8 || context.syncToIOS9) { \n                    this.detector = iOSDetector.iosFixDetector;\n                } else {\n                    this.detector = (iosVersion === 8) ? iOSDetector.iosRecentDetector : iOSDetector.iosOlderDetector; \n                }\n            } else  {\n                if (iosVersion &lt; 8) {\n                    this.detector = iOSDetector.iosOlderDetector;\n                } else {    \n                    this.detector = iOSDetector.iosRecentDetector;\n                }\n            }\n       } else { // ETC\n            setTimeout(function () {\n                self.detector = EtcDetector;\n                if (context.etcCallback) {\n                    context.etcCallback();\n                }\n            }, 100);\n        }\n    },\n\n    /**\n     * Run selected detector \n     */\n    runDetector: function(context) {\n        if(this.detector &amp;&amp; (this.detector.type !== EtcDetector.type)) {\n            this.detector.run(context);\n        }\n    },\n\n    /**\n     * Whether intent supported\n     * @returns {boolean}\n     */\n    isIntentLess: function() {\n        var intentlessBrowsers = [\n            'firefox',\n            'opr'\n        ];\n        var blackListRegexp = new RegExp(intentlessBrowsers.join('|'), 'i'),\n            app = this.agentDetector;\n        return blackListRegexp.test(app.ua);\n    },\n\n    /**\n     * Get os\n     * @returns {string}\n     */\n    getOS: function() {\n        return this.agentDetector.getOS();\n    },\n\n    /**\n     * Call app\n     * @param options\n     *\n     * @example\n     * var loader = new ne.component.AppLoader();\n     * loader.exec({\n     *      name: 'app', // application Name (ex. facebook, twitter, daum)\n     *      ios: {\n     *          scheme: 'fecheck://', // iphone app scheme\n     *          url: 'itms-apps://itunes.apple.com/app/.....' // app store url\n     *      },\n     *      android: {\n     *          scheme: 'intent://home#Intent;scheme=fecheck;package=com.fecheck;end' // android intent uri\n     *      }\n     *  });\n     */\n    exec: function(options) {\n        options = ne.util.extend(this.defaults, options);\n        var context = {\n            appName: options.name,\n            urlScheme: options.ios.scheme,\n            storeURL: options.ios.url,\n            intentURI: options.android.scheme,\n            etcCallback: options.etcCallback,\n            andVersion: options.android.version,\n            syncToIOS9: options.ios.syncToIOS9,\n            useIOS9: options.ios.useIOS9\n        };\n        this.setDetector(context);\n        this.runDetector(context);\n    }\n});\n\nmodule.exports = AppLoader;\n\n</code></pre>\n        </article>\n    </section>\n\n\n\n</div>\n\n"